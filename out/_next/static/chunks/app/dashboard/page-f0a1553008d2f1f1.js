(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5393:function(e,t,a){Promise.resolve().then(a.bind(a,5870))},5870:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),l=a(2298),r=a(6752),n=a(2265);let i=e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{onChange:()=>e.onClick(!e.checked),checked:e.checked,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded  dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("label",{className:"ml-2 text-sm font-medium text-gray-400 dark:text-gray-500",children:e.label})]});var c=a(4033),o=a(9222),d=a(4869),x=()=>{let e=(0,c.useRouter)(),t=async()=>{console.log("handleLogout");try{await o.Z.delete("".concat(d.N,"logout"),{withCredentials:!0}),e.push("/login")}catch(e){console.log("error",e)}};return(0,s.jsxs)("div",{className:" h-16 flex flex-row w-full bg-emerald-900 justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center cursor-pointer",children:[(0,s.jsxs)("div",{className:" text-xl font-normal text-white  px-6",children:[(0,s.jsx)("span",{className:" font-extrabold",children:"GitHub"})," Jobs"]}),(0,s.jsx)("div",{className:" text-emerald-100 text-sm",children:"Dashboard"})]}),(0,s.jsx)("div",{className:" text-white text-sm px-6 cursor-pointer",onClick:t,children:"Logout"})]})},u=a(175),m=a(6691),h=a.n(m);function p(){let e=(0,c.useRouter)(),[t,a]=(0,n.useState)(""),[m,p]=(0,n.useState)(),[b,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1),[v,N]=(0,n.useState)(""),[y,w]=(0,n.useState)(void 0),[k,C]=(0,n.useState)(""),[_,S]=(0,n.useState)(""),[z,L]=(0,n.useState)(!1),[M,T]=(0,n.useState)(1),[Z,D]=(0,n.useState)(1),[E,H]=(0,n.useState)([]),P=o.Z.create();P.interceptors.request.use(async t=>{let s=new Date;if(1e3*m<s.getTime()||!t.headers.Authorization)try{let e=await o.Z.get("".concat(d.N,"token"),{withCredentials:!0});t.headers.Authorization="Bearer ".concat(e.data.data.token);let s=(0,u.Z)(e.data.data.token);a(null==s?void 0:s.name),p(null==s?void 0:s.exp)}catch(t){e.push("/login")}return t},e=>Promise.reject(e));let A=(0,n.useCallback)(async(e,t)=>{j(!0);let a=await P.get("".concat(d.N,"positions"),{params:{page:t||1,description:k,location:_,full_time:z},headers:{Authorization:"Bearer ".concat(e||v)}});H(a.data.data.positions),D(a.data.data.totalPages),t||T(1),j(!1)},[P,v,k,_,z]),B=(0,n.useCallback)(async()=>{try{let e=await o.Z.get("".concat(d.N,"token"),{withCredentials:!0}),t=(0,u.Z)(e.data.data.token);a(null==t?void 0:t.name),p(null==t?void 0:t.exp),N(e.data.data.token),f(!0),A(e.data.data.token)}catch(t){e.push("/login");return}},[e]),J=e=>{w(e)};if((0,n.useEffect)(()=>{B()},[]),(0,n.useEffect)(()=>{b&&A(void 0,M)},[M]),console.log(y),b)return(0,s.jsxs)("div",{className:" pb-10",children:[(0,s.jsx)(x,{}),y?(()=>{let e={__html:y.description},t={__html:y.how_to_apply};return(0,s.jsxs)("div",{className:" px-6 py-6",children:[(0,s.jsx)("div",{onClick:()=>w(void 0),className:" cursor-pointer text-lg font-semibold text-green-600",children:"< Back"}),(0,s.jsxs)("div",{className:" mt-6 border-neutral-400 flex-1 border-[1px] rounded-lg p-4",children:[(0,s.jsxs)("div",{className:" text-sm text-gray-400",children:[y.type," / ",y.location]}),(0,s.jsx)("div",{className:" text-2xl font-bold",children:y.title}),(0,s.jsxs)("div",{className:" border-t-[1px] border-gray-400 flex mt-5 pt-4",children:[(0,s.jsx)("div",{className:" flex-1",dangerouslySetInnerHTML:e}),(0,s.jsxs)("div",{className:"  ml-4 w-80 ",children:[(0,s.jsxs)("div",{className:"border-neutral-400 flex-1 border-[1px] rounded-lg p-4",children:[(0,s.jsx)("div",{className:" font-bold text-sm",children:y.company}),(0,s.jsx)("div",{className:"border-t-[1px] border-neutral-400 pt-4 mt-4",children:(0,s.jsx)(h(),{alt:"",src:y.company_logo,width:200,height:100,layout:"responsive"})}),(0,s.jsx)("div",{className:" text-sm text-blue-600 underline",children:y.company_url})]}),(0,s.jsxs)("div",{className:"border-neutral-400 flex-1 border-[1px] rounded-lg p-4 bg-green-100  mt-4",children:[(0,s.jsx)("div",{className:"font-bold text-sm",children:"How to apply"}),(0,s.jsx)("div",{className:"border-t-[1px] border-neutral-400 pt-4 mt-4",dangerouslySetInnerHTML:t}),(0,s.jsx)("div",{className:" text-sm text-blue-600 underline",children:y.company_url})]})]})]})]})]})})():(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:" px-9 pt-6",children:["Hi, ",(0,s.jsx)("span",{className:" font-semibold text-emerald-950",children:t})]}),(0,s.jsx)("div",{className:" h-auto flex px-9 pt-1 ",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,s.jsx)(r.n,{label:"Job Description",onChange:C,value:k}),(0,s.jsx)(r.n,{label:"Location",onChange:S,value:_}),(0,s.jsx)("div",{className:" mt-[24px]",children:(0,s.jsx)(i,{label:"Full Time Only",checked:z,onClick:L})}),(0,s.jsx)("div",{className:" mt-[24px]",children:(0,s.jsx)(l.z,{label:"Search",onClick:()=>{A()}})})]})}),(0,s.jsxs)("div",{className:"mx-9 mt-6 border-neutral-400 flex-1 border-[1px] rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:" font-extrabold text-2xl mb-8",children:"Job List"}),(0,s.jsx)("div",{children:g?"Loading...":null})]}),E.map((e,t)=>{let a=new Date(e.created_at),l=new Date,r="",n=(l.getTime()-a.getTime())/864e5;return n<=30&&(r="".concat(Math.floor(n)," day").concat(n>1&&"s"," ago")),n>30&&(r="".concat(Math.floor(n/30)," month").concat(n>1&&"s"," ago")),n>360&&(r="".concat(Math.floor(n/30/12)," year").concat(n>1&&"s"," ago")),n=Math.floor(n),(0,s.jsxs)("div",{onClick:()=>J(e),className:" cursor-pointer border-t-[1px] border-neutral-400 flex-1 flex flex-row justify-between py-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:" text-lg font-bold",children:e.title}),(0,s.jsxs)("div",{className:" text-sm text-gray-500",children:[e.company," - ",(0,s.jsx)("span",{className:" text-green-600 font-bold",children:e.type})]})]}),(0,s.jsxs)("div",{className:"self-center",children:[(0,s.jsx)("div",{className:" text-sm text-right",children:e.location}),(0,s.jsx)("div",{className:" text-sm text-gray-500 text-right",children:r})]})]},t)}),(0,s.jsxs)("div",{className:" flex justify-center my-4 gap-2",children:[(0,s.jsx)(l.z,{label:"Previous",onClick:()=>{T(M-1)},disabled:1===M}),(0,s.jsx)(l.z,{label:"Next",onClick:()=>{T(M+1)},disabled:M===Z})]})]})]})]})}},2298:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var s=a(7437);a(2265);let l=e=>{let{disabled:t=!1}=e;return(0,s.jsx)("div",{className:"self-center",children:(0,s.jsx)("button",{disabled:t,onClick:e.onClick,className:" bg-emerald-900 text-white font-semibold py-[6px] px-6 border rounded-full disabled:opacity-50",children:e.label})})}},6752:function(e,t,a){"use strict";a.d(t,{n:function(){return l}});var s=a(7437);a(2265);let l=e=>(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)("label",{className:" text-emerald-950 font-light mb-1",children:e.label})}),(0,s.jsx)("div",{className:" w-80",children:(0,s.jsx)("input",{className:"bg-white appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-emerald-900",value:e.value,onChange:t=>e.onChange(t.target.value),type:(null==e?void 0:e.password)?"password":"text"})})]})},4869:function(e,t,a){"use strict";a.d(t,{N:function(){return s}});let s="http://127.0.0.1:7072/"}},function(e){e.O(0,[540,625,971,596,744],function(){return e(e.s=5393)}),_N_E=e.O()}]);